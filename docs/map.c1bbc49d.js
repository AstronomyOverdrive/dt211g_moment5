const e=document.getElementById("search-bar"),t=document.getElementById("search-btn"),n=L.map("map").setView([51.3406321,12.3747329],13),a=L.marker([51.3406321,12.3747329]).addTo(n);async function o(){let t=e.value||"Leipzig";try{let e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${t}`);if(!e.ok)throw Error("Invalid response!");let o=await e.json();!function(e){var t,o;let r=e[0].lat;t=e[0].lon,o=r,n.panTo([o,t]),a.setLatLng([o,t])}(o)}catch(e){console.error(e)}}L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>"}).addTo(n),t.addEventListener("click",o),e.addEventListener("keydown",function(e){if("Enter"===e.code)return o(),e.preventDefault(),!1});